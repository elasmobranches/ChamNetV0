# ë°ì´í„°ì…‹ ì¦ê°• ë„êµ¬ (Dataset Augmentation Tool)

ì´ ë„êµ¬ëŠ” `train_esanet_mtl.py`ì—ì„œ ì‚¬ìš©í•˜ëŠ” albumentations ì¦ê°• ê¸°ë²•ì„ ê¸°ë°˜ìœ¼ë¡œ RGB/Depth ë°ì´í„°ì…‹ì„ ì¦ê°•í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

- **RGBì™€ Depthì— ì„œë¡œ ë‹¤ë¥¸ ì¦ê°• ê¸°ë²• ì ìš©**
- **ê¸°í•˜í•™ì  ë³€í™˜ì€ RGB/Depth/Maskì— ë™ì¼í•˜ê²Œ ì ìš©**
- **ìƒ‰ìƒ ì¦ê°•ì€ RGBì—ë§Œ ì ìš©**
- **ì‚¬ìš©ìê°€ ì§€ì •í•œ ë°°ìˆ˜ë§Œí¼ ë°ì´í„° ì¦ê°•**
- **ìë™ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„±**

## ğŸ“ ë°ì´í„°ì…‹ êµ¬ì¡°

### ì…ë ¥ ë°ì´í„°ì…‹ êµ¬ì¡°
```
dataset_root/
â”œâ”€â”€ train/
â”‚   â”œâ”€â”€ images/     # RGB ì´ë¯¸ì§€
â”‚   â”œâ”€â”€ masks/      # ì„¸ê·¸ë©˜í…Œì´ì…˜ ë§ˆìŠ¤í¬
â”‚   â””â”€â”€ depth/      # ê¹Šì´ ë§µ
â”œâ”€â”€ val/
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ masks/
â”‚   â””â”€â”€ depth/
â””â”€â”€ test/
    â”œâ”€â”€ images/
    â”œâ”€â”€ masks/
    â””â”€â”€ depth/
```

### ì¶œë ¥ ë°ì´í„°ì…‹ êµ¬ì¡°
```
output_root/
â”œâ”€â”€ train/
â”‚   â”œâ”€â”€ images/     # ì¦ê°•ëœ RGB ì´ë¯¸ì§€
â”‚   â”œâ”€â”€ masks/      # ì¦ê°•ëœ ë§ˆìŠ¤í¬
â”‚   â””â”€â”€ depth/      # ì¦ê°•ëœ ê¹Šì´ ë§µ
â”œâ”€â”€ val/
â”‚   â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ masks/
â”‚   â””â”€â”€ depth/
â””â”€â”€ test/
    â”œâ”€â”€ images/
    â”œâ”€â”€ masks/
    â””â”€â”€ depth/
```

## ğŸ”§ ì¦ê°• ê¸°ë²•

### RGB ì „ìš© ìƒ‰ìƒ ì¦ê°•
- **RandomBrightnessContrast**: ë°ê¸°/ëŒ€ë¹„ ì¡°ì • (p=0.3)
- **GaussNoise**: ê°€ìš°ì‹œì•ˆ ë…¸ì´ì¦ˆ ì¶”ê°€ (p=0.2)
- **RandomGamma**: ê°ë§ˆ ë³´ì • (p=0.2)
- **HueSaturationValue**: HSV ìƒ‰ìƒ ë³€í™˜ (p=0.2)
- **ColorJitter**: ì¶”ê°€ ìƒ‰ìƒ ì§€í„° (p=0.2)

### ê¸°í•˜í•™ì  ë³€í™˜ (RGB/Depth/Mask ê³µí†µ)
- **HorizontalFlip**: ì¢Œìš° ë°˜ì „ (p=0.5)
- **Rotate**: íšŒì „ (ìµœëŒ€ 15ë„, p=0.3)
- **RandomScale**: ìŠ¤ì¼€ì¼ë§ (10% ë²”ìœ„, p=0.2)
- **ElasticTransform**: ì—˜ë¼ìŠ¤í‹± ë³€í™˜ (p=0.1)
- **CoarseDropout**: Cutout íš¨ê³¼ (p=0.1)

## ğŸš€ ì‚¬ìš©ë²•

### ê¸°ë³¸ ì‚¬ìš©ë²•
```bash
python augmentation.py \
    --dataset_root ../dataset \
    --output_root ../dataset_augmented \
    --multiplier 5
```

### íŠ¹ì • splitë§Œ ì¦ê°•
```bash
python augmentation.py \
    --dataset_root ../dataset \
    --output_root ../dataset_augmented \
    --multiplier 3 \
    --splits train val
```

### ì˜ˆì œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
```bash
python run_augmentation.py
```

## ğŸ“‹ ëª…ë ¹í–‰ ì˜µì…˜

| ì˜µì…˜ | ì„¤ëª… | ê¸°ë³¸ê°’ | í•„ìˆ˜ |
|------|------|--------|------|
| `--dataset_root` | ì›ë³¸ ë°ì´í„°ì…‹ ë£¨íŠ¸ ê²½ë¡œ | - | âœ… |
| `--output_root` | ì¦ê°•ëœ ë°ì´í„°ì…‹ ì €ì¥ ê²½ë¡œ | - | âœ… |
| `--multiplier` | ì¦ê°• ë°°ìˆ˜ (ì›ë³¸ì˜ ëª‡ ë°°ë¡œ ì¦ê°•í• ì§€) | 5 | âŒ |
| `--splits` | ì¦ê°•í•  split ì„ íƒ | train val test | âŒ |

## ğŸ“Š ì¶œë ¥ íŒŒì¼ëª… ê·œì¹™

ì›ë³¸ íŒŒì¼: `image001.jpg`
- `image001_aug_000.png` (ì›ë³¸ ë³µì‚¬)
- `image001_aug_001.png` (1ë²ˆì§¸ ì¦ê°•)
- `image001_aug_002.png` (2ë²ˆì§¸ ì¦ê°•)
- ...

## ğŸ” ì˜ˆì œ

### 5ë°° ì¦ê°• ì˜ˆì œ
```bash
# ì›ë³¸: 100ê°œ ì´ë¯¸ì§€
# ì¦ê°• í›„: 500ê°œ ì´ë¯¸ì§€ (100 Ã— 5)
python augmentation.py \
    --dataset_root ../dataset \
    --output_root ../dataset_5x \
    --multiplier 5
```

### train splitë§Œ 3ë°° ì¦ê°•
```bash
python augmentation.py \
    --dataset_root ../dataset \
    --output_root ../dataset_train_3x \
    --multiplier 3 \
    --splits train
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: ì¦ê°• ë°°ìˆ˜ê°€ í´ìˆ˜ë¡ ë” ë§ì€ ë©”ëª¨ë¦¬ê°€ í•„ìš”í•©ë‹ˆë‹¤.
2. **ì €ì¥ ê³µê°„**: ì¦ê°•ëœ ë°ì´í„°ì…‹ì€ ì›ë³¸ë³´ë‹¤ í›¨ì”¬ í´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. **íŒŒì¼ í˜•ì‹**: ì¶œë ¥ì€ ëª¨ë‘ PNG í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.
4. **ë§ˆìŠ¤í¬/ê¹Šì´ íŒŒì¼**: í•´ë‹¹ íŒŒì¼ì´ ì—†ìœ¼ë©´ ë¹ˆ ì´ë¯¸ì§€ë¡œ ìƒì„±ë©ë‹ˆë‹¤.

## ğŸ› ï¸ ìš”êµ¬ì‚¬í•­

```bash
pip install albumentations opencv-python pillow tqdm numpy
```

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

- **ë³‘ë ¬ ì²˜ë¦¬**: ëŒ€ìš©ëŸ‰ ë°ì´í„°ì…‹ì˜ ê²½ìš° ë©€í‹°í”„ë¡œì„¸ì‹± ê³ ë ¤
- **ë©”ëª¨ë¦¬ ê´€ë¦¬**: ë°°ì¹˜ ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì œì–´
- **ë””ìŠ¤í¬ I/O**: SSD ì‚¬ìš© ê¶Œì¥

## ğŸ¯ ì‚¬ìš© ì‚¬ë¡€

1. **ë°ì´í„° ë¶€ì¡± í•´ê²°**: ì‘ì€ ë°ì´í„°ì…‹ì„ í™•ì¥
2. **ëª¨ë¸ ê°•ê±´ì„± í–¥ìƒ**: ë‹¤ì–‘í•œ ë³€í˜•ìœ¼ë¡œ ì¼ë°˜í™” ëŠ¥ë ¥ ê°œì„ 
3. **í´ë˜ìŠ¤ ë¶ˆê· í˜• í•´ê²°**: íŠ¹ì • í´ë˜ìŠ¤ì˜ ë°ì´í„° ì¦ê°•
4. **ì‹¤í—˜ìš© ë°ì´í„° ìƒì„±**: ë‹¤ì–‘í•œ ì¦ê°• ì„¤ì •ìœ¼ë¡œ ì‹¤í—˜
